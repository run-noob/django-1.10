

Let’s learn by example.

让我们通过例子来学习

Throughout this tutorial, we’ll walk you through the creation of a basic poll application.

通过本教程，我们将带着你创建一个基本的投票应用



It’ll consist of two parts:

A public site that lets people view polls and vote in them.

An admin site that lets you add, change, and delete polls.

它将包含两个部分：

一个公开的网站，可以让人们查看投票结果以及让他们投票

一个后台管理系统，可以添加，更新，和删除投票



We’ll assume you have [Django installed](https://docs.djangoproject.com/en/1.10/intro/install/) already. You can tell Django is installed and which version by running the following command:

假设你已经安装好了Django，你可以输入以下命令来验证和查看你所安装的版本：

```
python -m django --version
```

If Django is installed, you should see the version of your installation. If it isn’t, you’ll get an error telling “No module named django”.

如果已经安装Django，你将看到你安装的版本好。如果没有，将会报一个“No module named django”的错误



This tutorial is written for Django 1.10 and Python 3.4 or later. If the Django version doesn’t match, you can refer to the tutorial for your version of Django by using the version switcher at the bottom right corner of this page, or update Django to the newest version. If you are still using Python 2.7, you will need to adjust the code samples slightly, as described in comments.

本教程基于Django 1.10 以及 Python 3.4+版本编写。如果你的Django版本不符， 如果Django版本不符，可以通过当前页面右下角的版本转换器查看适用于你所使用的版本的Django教程，或者把Django升级到最新的版本。 如果你还在使用2.7版本的Python，你将需要按照注释中的内容稍微调整一下示例代码。

See [How to install Django](https://docs.djangoproject.com/en/1.10/topics/install/) for advice on how to remove older versions of Django and install a newer one.

关于如何卸载旧版本并安装新版本的Django，请参考[How to install Django](https://docs.djangoproject.com/en/1.10/topics/install/) 



+ Where to get help:

If you’re having trouble going through this tutorial, please post a message to [django-users](https://docs.djangoproject.com/en/1.10/internals/mailing-lists/#django-users-mailing-list) or drop by [#django on irc.freenode.net](irc://irc.freenode.net/django) to chat with other Django users who might be able to help.

+ 如何获得帮助：

在本教程中，你有任何问题，都可以发消息给[django 开发人员](https://docs.djangoproject.com/en/1.10/internals/mailing-lists/#django-users-mailing-list) 或者访问 [#django on irc.freenode.net](irc://irc.freenode.net/django)网站，与其他Django开发者交流寻求帮助。



**Creating a project**

**创建项目**

If this is your first time using Django, you’ll have to take care of some initial setup. Namely, you’ll need to auto-generate some code that establishes a Django [project](https://docs.djangoproject.com/en/1.10/glossary/#term-project) – a collection of settings for an instance of Django, including database configuration, Django-specific options and application-specific settings.

From the command line, cd

 into a directory where you’d like to store your code, then run the following command:

如果这是你第一次使用Django，你需要注意一下初始化设置。换句话说，你需要使用命令行来自动创建一个Django[项目](https://docs.djangoproject.com/en/1.10/glossary/#term-project) --一个Django框架开发的网站，包括数据库设置，针对Django的配置以及针对app应用的配置。

在命令行中，cd到你想要报错你项目代码的目录，并执行一下命令：

```
django-admin startproject mysite
```



This will create a mysite

 directory in your current directory. If it didn’t work, see [Problems running django-admin](https://docs.djangoproject.com/en/1.10/faq/troubleshooting/#troubleshooting-django-admin).

这将会在你的当前目录下创建一个mysite目录。如果没有，请查看[Problems running django-admin](https://docs.djangoproject.com/en/1.10/faq/troubleshooting/#troubleshooting-django-admin).



+ **NOTE**

You’ll need to avoid naming projects after built-in Python or Django components. In particular, this means you should avoid using names like django (which will conflict with Django itself) or test (which conflicts with a built-in Python package).



+ **注意**

你应该避免使用Python或Django的内建变量来给项目起名。特别地，这意味着你不能用django（与Django自身冲突）或test（与内建的Python模块冲突）这类项目名



+ **Where should this code live?**

If your background is in plain old PHP (with no use of modern frameworks), you’re probably used to putting code under the Web server’s document root (in a place such as /var/www). With Django, you don’t do that. It’s not a good idea to put any of this Python code within your Web server’s document root, because it risks the possibility that people may be able to view your code over the Web. That’s not good for security.

Put your code in some directory outside of the document root, such as /home/mycode.



+ **代码应该存在哪里**

如果你有使用过普通老久的PHP（没有使用过现代流行框架），你可能会把代码保存到web服务器的文档根目录下（如/var/www）。但在Django里，你不要这样做。将任何的python代码放在web服务器根目录是有很大风险的，因为别人可能通过网站查看到你的源代码。这违背了安全原则。

将你的代码放置在Web服务器根目录以外的地方，例如/home/mycode。



让我们看一下[startproject

](http://www.usyiyi.cn/documents/django_182/ref/django-admin.html#django-admin-startproject)命令创建了哪些文件和目录：

```
mysite/
    manage.py
    mysite/
        __init__.py
        settings.py
        urls.py
        wsgi.py
```



These files are:

+ The outer mysite/ root directory is just a container for your project. Its name doesn’t matter to Django; you can rename it to anything you like.

+ manage.py: A command-line utility that lets you interact with this Django project in various ways. You can read all the details about manage.py in [django-admin and manage.py](https://docs.djangoproject.com/en/1.10/ref/django-admin/).

+ The inner mysite/ directory is the actual Python package for your project. Its name is the Python package name you’ll need to use to import anything inside it (e.g. mysite.urls).

+ mysite/__init__.py: An empty file that tells Python that this directory should be considered a Python package. If you’re a Python beginner, read [more about packages](https://docs.python.org/3/tutorial/modules.html#tut-packages) in the official Python docs.

+ mysite/settings.py: Settings/configuration for this Django project. [Django settings](https://docs.djangoproject.com/en/1.10/topics/settings/) will tell you all about how settings work.

+ mysite/urls.py: The URL declarations for this Django project; a “table of contents” of your Django-powered site. You can read more about URLs in [URL dispatcher](https://docs.djangoproject.com/en/1.10/topics/http/urls/).

+ mysite/wsgi.py: An entry-point for WSGI-compatible web servers to serve your project. See [How to deploy with WSGI](https://docs.djangoproject.com/en/1.10/howto/deployment/wsgi/)for more details.



这些文件是：

+ 外层的mysite/根目录仅仅是一个项目容器。它的命名对Django无关，你可以把它重命名为任何你喜欢的名字。

+ manage.py：一个命令行工具，可以使你用多种方式对Django项目进行交互。你可以在[*django-admin和manage.py*](https://docs.djangoproject.com/en/1.10/ref/django-admin/)中读到关于manage.py的所有细节。

+ 内层的mysite/目录是你的项目的真正的Python包。它是你导入任何东西时将需要使用的Python包的名字（例如 mysite.urls。

+ mysite/__init__.py：一个空文件，它告诉Python这个目录应该被看做一个Python包。如果你是一个Python初学者，[关于包的更多内容](https://docs.python.org/tutorial/modules.html#packages)请阅读Python的官方文档）。

+ mysite/settings.py：该Django 项目的设置/配置。[*Django 设置*](https://docs.djangoproject.com/en/1.10/topics/settings/) 将告诉你这些设置如何工作。

+ mysite/urls.py：该Django项目的URL声明；你的Django站点的“目录”。 

你可以在[*URL 转发器*](https://docs.djangoproject.com/en/1.10/topics/http/urls/) 中阅读到关于URL的更多内容。

+ mysite/wsgi.py：用于你的项目的与WSGI兼容的Web服务器入口。 

更多细节请参见[*如何利用WSGI进行部署*](https://docs.djangoproject.com/en/1.10/howto/deployment/wsgi/)。


The development server

Let’s verify your Django project works. Change into the outer mysite

 directory, if you haven’t already, and run the following commands:

$ python manage.py runserver